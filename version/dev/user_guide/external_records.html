
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Using external records in analysis &#8212; PyGranta BoM Analytics 2.4.0.dev0</title>
  
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/ansys-sphinx-theme.css?v=a23b20f3" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/ansys-sphinx-theme.css?v=a23b20f3" />
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" type="text/css" href="https://www.nerdfonts.com/assets/css/webfont.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/dataframe.css?v=1a040689" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />


  <!-- Include desired assets -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  
    <link href="../_static/css/breadcrumbs.css" rel="stylesheet" />
  
    <script src="../_static/documentation_options.js?v=ed268db3"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=49e1bf35"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/external_records';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://bomanalytics.grantami.docs.pyansys.com/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            false;
        </script>
    <script src="../_static/js/add_blank.js?v=f2ece54a"></script>
    <link rel="icon" href="../_static/ansys-favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API reference" href="../api/index.html" />
    <link rel="prev" title="Batching requests" href="batching.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.4.0.dev0" />
  <link rel="canonical" href="https://bomanalytics.grantami.docs.pyansys.com/version/stable/user_guide/external_records.html" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/pyansys_logo_transparent_black.png" class="logo__image only-light" alt="PyGranta BoM Analytics 2.4.0.dev0 - Home"/>
    <img src="../_static/pyansys_logo_transparent_white.png" class="logo__image only-dark pst-js-only" alt="PyGranta BoM Analytics 2.4.0.dev0 - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html" title="PyGranta BoM Analytics 2.4.0.dev0 home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../contributing.html">
    Contribute
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="../changelog.html">
    Release notes
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav>
</div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
  
</div></div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/grantami-bomanalytics" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  
  
    
<!--
  Announcement Version Loader
  Dynamically loads the announcement.html content into the announcement_msg div.
-->
<div id="announcement_msg" aria-live="polite"></div>
<script>
  // Fetch and inject the announcement HTML content
  fetch("announcement.html")
    .then((response) => {
      if (!response.ok) {
        throw new Error(`HTTP error: ${response.status} Announcement.html file not found, Please ignore this, if you are in dev/stable documentation`);
      }
      return response.text();
    })
    .then((text) => {
      var msgDiv = document.getElementById("announcement_msg");
      if (msgDiv) {
        msgDiv.innerHTML = text;
      }
    })
    .catch((error) => {
      // Log only unexpected fetch errors
      if (!(error.message && error.message.startsWith("HTTP error: 404"))) {
        console.error(`Fetch problem: ${error.message} Announcement.html could not be loaded.`);
      }
    });
</script>
  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">

<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../index.html" title="PyGranta BoM Analytics 2.4.0.dev0 home">Home</a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../getting_started/index.html">
    Getting started
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="index.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../api/index.html">
    API reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contribute
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../changelog.html">
    Release notes
  </a>
</li>

  </ul>
</nav>
</div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<div class="search-bar pst-js-only" id="search-bar">
  <form class="bd-search d-flex align-items-center" action="../search.html" method="get">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="search" class="form-control" name="q" placeholder="Search the docs ..."
      aria-label="Search the docs ..." autocomplete="off" autocorrect="off"
      autocapitalize="off" spellcheck="false" />
    <span class="search-button__kbd-shortcut">
      <kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd>
    </span>
  </form>
  
  <div id="static-search-results" class="static-search-results" style="display:none;" tabindex="0"></div>
  
</div></div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ansys/grantami-bomanalytics" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_code.html">Quick code</a></li>
<li class="toctree-l1"><a class="reference internal" href="query_types.html">Differences between BoM and record queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="batching.html">Batching requests</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Using external records in analysis</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">
<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
         
    <li class="breadcrumb-item breadcrumb-home">
      <a href="https://docs.pyansys.com/" class="nav-link">PyAnsys</a>
    </li>
       
    <li class="breadcrumb-item">
      <a href="https://grantami.docs.pyansys.com/" class="nav-link">PyGranta</a>
    </li>
     
    <li class="breadcrumb-item">
      <a
        href="../index.html"
        class="nav-link"
        aria-label="Home"
      >
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
     
    <li class="breadcrumb-item">
      <a href="index.html" class="nav-link">User guide</a>
    </li>
      
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Using external records in analysis</span></li>
    
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="using-external-records-in-analysis">
<span id="ref-grantami-bomanalytics-external-record-references"></span><h1>Using external records in analysis<a class="headerlink" href="#using-external-records-in-analysis" title="Link to this heading">#</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 2.4.</span></p>
</div>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>MI Restricted Substances and Sustainability Reports 2026 R1 introduces the ability to perform analysis on records stored
in separate databases to the Restricted Substances and Sustainability database. These records are referred to below as
‘external records’, and the databases they are stored in are referred to as ‘external databases’.</p>
<p>Separating data across databases in this way can simplify data management by making it easier to share responsibility
and ownership for different datasets across functional groups. Additionally, it is easier to adopt the Restricted
Substances and Sustainability solution if existing data can be easily linked to representative data supplied with the
Restricted Substances and Sustainability database.</p>
<p>When a BoM Analytics query is submitted that includes external records, Granta MI first identifies equivalent Restricted
Substances and Sustainability records by following cross-database links between the Restricted Substances and
Sustainability records and the external records. The results include both the Restricted Substances and Sustainability
records and the external records, providing clear traceability for how the results were determined.</p>
<p>This page describes the pre-requisites for performing analysis based on external records, and provides code examples for
common use cases.</p>
</section>
<section id="pre-requisites">
<span id="ref-grantami-bomanalytics-external-record-references-pre-reqs"></span><h2>Pre-requisites<a class="headerlink" href="#pre-requisites" title="Link to this heading">#</a></h2>
<p>The following conditions must be met to use this feature:</p>
<ul class="simple">
<li><p>The version of this package must be version 2.4 or later.</p></li>
<li><p>The Granta MI server is running MI Restricted Substances and Sustainability Reports 2026 R1 or later.</p></li>
<li><p>The records used for analysis are linked to equivalent records in the main Restricted Substances and Sustainability
database. See the Granta MI Restricted Substances and Sustainability Install and Configuration, on the Ansys Help
Center for more details.</p></li>
</ul>
</section>
<section id="record-based-queries">
<h2>Record-based queries<a class="headerlink" href="#record-based-queries" title="Link to this heading">#</a></h2>
<p>For record-based queries, the <code class="docutils literal notranslate"><span class="pre">database_key</span></code> argument should be used when referring to external records. For example,
a material impacted substances analysis can be performed on external material records in the
<code class="docutils literal notranslate"><span class="pre">MI_Mechanical_Design_Data</span></code> database with the following query:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">MaterialImpactedSubstancesQuery</span><span class="p">()</span>
    <span class="o">.</span><span class="n">with_material_ids</span><span class="p">(</span>
        <span class="n">material_ids</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AB-01&quot;</span><span class="p">,</span> <span class="s2">&quot;BC-02&quot;</span><span class="p">,</span> <span class="s2">&quot;CD-03&quot;</span><span class="p">],</span>
        <span class="n">external_database_key</span><span class="o">=</span><span class="s2">&quot;MI_Mechanical_Design_Data&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="o">.</span><span class="n">with_legislation_ids</span><span class="p">(</span><span class="s2">&quot;SINList&quot;</span><span class="p">,</span> <span class="s2">&quot;CCC&quot;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If the <a class="reference internal" href="#ref-grantami-bomanalytics-external-record-references-pre-reqs"><span class="std std-ref">Pre-requisites</span></a> are met, the results include
<a class="reference internal" href="../api/impacted_substances/materials.html#ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult" title="ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialWithImpactedSubstancesResult</span></code></a> objects with the following properties set:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/impacted_substances/materials.html#ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.record_guid" title="ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.record_guid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">record_guid</span></code></a> property is set to the record GUID of the linked
material record in the Restricted Substances and Sustainability database.</p></li>
<li><p>The <a class="reference internal" href="../api/impacted_substances/materials.html#ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.database_key" title="ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.database_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">database_key</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>The <a class="reference internal" href="../api/impacted_substances/materials.html#ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.equivalent_references" title="ansys.grantami.bomanalytics._item_results.MaterialWithImpactedSubstancesResult.equivalent_references"><code class="xref py py-attr docutils literal notranslate"><span class="pre">equivalent_references</span></code></a> property is a list containing a single
<a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialReference</span></code></a> object.</p></li>
</ul>
<p>The ‘equivalent’ <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialReference</span></code></a> object would have the following properties set:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.material_id" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.material_id"><code class="xref py py-attr docutils literal notranslate"><span class="pre">material_id</span></code></a> property is would be set to the appropriate material ID, for example
“AB-01” for the first material record in the example.</p></li>
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.database_key" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.database_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">database_key</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">MI_Mechanical_Design_Data</span></code>.</p></li>
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.equivalent_references" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.equivalent_references"><code class="xref py py-attr docutils literal notranslate"><span class="pre">equivalent_references</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</section>
<section id="bom-based-queries">
<h2>BoM-based queries<a class="headerlink" href="#bom-based-queries" title="Link to this heading">#</a></h2>
<p>For BoM-based queries, the external database key should be used in the record or attribute reference, typically when
using the <a class="reference internal" href="../api/bom_builder/builders.html#ansys.grantami.bomanalytics.bom_types.RecordReferenceBuilder" title="ansys.grantami.bomanalytics.bom_types.RecordReferenceBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecordReferenceBuilder</span></code></a> or <a class="reference internal" href="../api/bom_builder/builders.html#ansys.grantami.bomanalytics.bom_types.AttributeReferenceBuilder" title="ansys.grantami.bomanalytics.bom_types.AttributeReferenceBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeReferenceBuilder</span></code></a> classes. For example, sustainability
analysis can be performed on a BoM which contains the following material reference:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;MIMaterialReference&gt;</span>
<span class="w">  </span><span class="nt">&lt;dbKey&gt;</span>MI_Mechanical_Design_Data<span class="nt">&lt;/dbKey&gt;</span>
<span class="w">  </span><span class="nt">&lt;recordGUID&gt;</span>2086f56a-4f4d-4850-9891-3d6ad155d1f9<span class="nt">&lt;/recordGUID&gt;</span>
<span class="nt">&lt;/MIMaterialReference&gt;</span>
</pre></div>
</div>
<p>Assuming the <a class="reference internal" href="#ref-grantami-bomanalytics-external-record-references-pre-reqs"><span class="std std-ref">Pre-requisites</span></a> are met, the results include a
corresponding <a class="reference internal" href="../api/sustainability/bom.html#ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult" title="ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialWithSustainabilityResult</span></code></a> object with the following properties set:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/sustainability/bom.html#ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.record_guid" title="ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.record_guid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">record_guid</span></code></a> property is set to the record GUID of the linked material
record in the Restricted Substances and Sustainability database.</p></li>
<li><p>The <a class="reference internal" href="../api/sustainability/bom.html#ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.database_key" title="ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.database_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">database_key</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>The <a class="reference internal" href="../api/sustainability/bom.html#ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.equivalent_references" title="ansys.grantami.bomanalytics._item_results.MaterialWithSustainabilityResult.equivalent_references"><code class="xref py py-attr docutils literal notranslate"><span class="pre">equivalent_references</span></code></a> property is a list containing a single
<a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialReference</span></code></a> object.</p></li>
</ul>
<p>The ‘equivalent’ <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaterialReference</span></code></a> object would have the following properties set:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.record_guid" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.record_guid"><code class="xref py py-attr docutils literal notranslate"><span class="pre">record_guid</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">2086f56a-4f4d-4850-9891-3d6ad155d1f9</span></code>.</p></li>
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.database_key" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.database_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">database_key</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">MI_Mechanical_Design_Data</span></code>.</p></li>
<li><p>The <a class="reference internal" href="../api/common.html#ansys.grantami.bomanalytics._item_definitions.MaterialReference.equivalent_references" title="ansys.grantami.bomanalytics._item_definitions.MaterialReference.equivalent_references"><code class="xref py py-attr docutils literal notranslate"><span class="pre">equivalent_references</span></code></a> property is <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</section>
</section>


                </article>
              
              
              
              
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-requisites">Pre-requisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#record-based-queries">Record-based queries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bom-based-queries">BoM-based queries</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/external_records.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>


  <!-- Include desired assets -->
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.7/require.min.js"></script>

<script>
// Passing the search options to the search.js file
const SEARCH_OPTIONS = JSON.parse('{"keys": ["title", "text", "objectID"], "limit": 10, "threshold": 0.2}');
const SEARCH_FILE = "../_static/search.json";
const ADVANCE_SEARCH_PATH = "../search.html";
const EXTRA_SOURCES = JSON.parse('""');
</script>


<script src="../_static/js/search.js"></script>

  
  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright (c) 2026 ANSYS, Inc. All rights reserved.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<!--
  Theme Version Footer
  Displays the Sphinx theme version and the last updated date.
  Accessibility and semantic improvements included.
-->
<footer class="theme-version" aria-label="Theme version and last update">
  <span>
    
      Built with the
      <a href="https://sphinxdocs.ansys.com/version/stable/index.html" target="_blank" rel="noopener noreferrer">
        Ansys Sphinx Theme
      </a>
      1.7.0.
    
  </span>
  <br />
  <span>Last updated on <time id="ast_build_date"></time></span>
</footer>
<script>
  // Set the last updated date in a readable format
  (function() {
    var options = { day: "numeric", month: "long", year: "numeric" };
    var ast_lastModifiedDate = new Date(document.lastModified);
    var ast_build_date = ast_lastModifiedDate.toLocaleDateString("en-US", options);
    var dateElem = document.getElementById("ast_build_date");
    if (dateElem) {
      dateElem.textContent = ast_build_date;
    }
  })();
</script></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>